(function(){"use strict";var e={4460:function(e,t,s){var a=s(9242),i=s(3396);function r(e,t){const s=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(s)}var l=s(89);const n={},o=(0,l.Z)(n,[["render",r]]);var d=o,c=s(5431);(0,c.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var p=s(2483);const u={class:"space-y-5"},g=(0,i._)("div",{class:"py-6 px-4 w-full bg-gray-900"},[(0,i._)("div",{class:"w-full max-w-5xl mx-auto"},[(0,i._)("h1",{class:"text-gray-50 text-5xl"},"Eye disease prediction system with Machine learning."),(0,i._)("p",{class:"text-right text-xs text-gray-300 font-mono"},"Ver 1.0.0")])],-1),f={class:"pb-28 px-4 w-full max-w-5xl mx-auto space-y-5"},x={class:"flex"},m={class:"ml-auto relative"},h=(0,i._)("i",{class:"fa-solid fa-circle-question"},null,-1),y=(0,i._)("span",null,"Need help?",-1),b=[h,y],v={key:1,class:"w-72 absolute z-10 top-8 right-0 bg-gray-900 rounded-2xl shadow-2xl transition-all ease-out after:content-[''] after:absolute after:-top-[5px] after:right-10 after:-ml-[10px] after:border-[7px] after:border-t-transparent after:border-b-transparent after:border-l-transparent after:border-r-gray-900"},w=(0,i.uE)('<div class="py-2 px-4 w-full border-b border-gray-800"><div class="flex items-center gap-x-1 text-gray-400 text-xs"><i class="fa fa-info-circle"></i><h2>How to use</h2></div></div><div class="p-4"><ol class="pl-4 text-gray-100 text-sm list-decimal space-y-3"><li> Click on the <span class="px-2 bg-gray-700 font-mono text-white text-xs rounded">Upload Eye Image</span> button and select and upload an image of the eye. <div><img src="/images/sample.png" alt="Sample image" width="150"><p class="text-gray-300 text-xs italic">(Example of eye image sample to be uploaded)</p></div></li><li>Click on <span class="px-2 bg-gray-700 font-mono text-white text-xs rounded">Run prediction</span> button to begin processing the image.</li><li>Wait for few seconds for the model to process and return prediction results.</li></ol></div>',2),_=[w],k={class:"flex flex-col md:flex-row gap-10"},M=(0,i._)("div",{class:"basis-1/2"},[(0,i._)("img",{src:"/images/eye-logo.png",alt:"Eye image logo"})],-1),P={class:"basis-1/2 space-y-10"},S={class:"bg-gray-50 rounded-lg shadow-sm"},V=(0,i._)("div",{class:"py-2 px-4 w-full border-b border-gray-200"},[(0,i._)("h2",{class:"text-gray-800"},"Model")],-1),U={class:"p-5 space-y-5"},E={key:0},j=(0,i._)("span",{class:"flex items-center gap-x-1 text-sm text-green-500"},[(0,i._)("i",{class:"fa-regular fa-circle-check"}),(0,i._)("span",null,"Model loaded successfully.")],-1),O=[j],C={key:1},I=(0,i._)("span",{class:"flex items-center gap-x-1 text-sm text-gray-500"},[(0,i._)("i",{class:"fa-solid fa-spinner fa-spin"}),(0,i._)("span",null,"Wait while model and TensorFlow.js is loading...")],-1),D=[I],F={method:"post",enctype:"multipart/form-data"},H=(0,i._)("label",{for:"imageInput",class:"py-3 px-6 inline-flex items-center gap-x-2 text-white bg-gray-900 text-xs font-medium uppercase rounded-lg shadow-lg cursor-pointer"},[(0,i._)("i",{class:"fa-solid fa-upload"}),(0,i._)("span",null,"Upload Eye Image")],-1),R={class:"space-y-5"},L={class:"space-y-2"},T=(0,i._)("p",{class:"text-gray-500 text-sm"},"Image sample:",-1),z=["src"],A=(0,i._)("i",{class:"fa-regular fa-eye fa-shake"},null,-1),q=(0,i._)("span",null,"Run Prediction",-1),N=[A,q],$={key:1},W=(0,i._)("span",{class:"flex items-center gap-x-1 text-sm text-gray-500"},[(0,i._)("i",{class:"fa-solid fa-spinner fa-spin"}),(0,i._)("span",null,"Analyzing image...")],-1),Z=[W],B={key:2},G=(0,i._)("span",{class:"flex items-center gap-x-1 text-sm text-green-500"},[(0,i._)("i",{class:"fa-regular fa-circle-check"}),(0,i._)("span",null,"Prediction result is ready")],-1),J=[G],K={class:"bg-gray-50 rounded-lg shadow-sm"},Q=(0,i._)("div",{class:"py-2 px-4 w-full border-b border-gray-200"},[(0,i._)("h2",{class:"text-gray-800"},"Prediction results")],-1),X={class:"p-5 space-y-2"},Y=["innerHTML"],ee=(0,i._)("i",{class:"fa-solid fa-arrow-rotate-left"},null,-1),te=(0,i._)("span",null,"Run another Prediction",-1),se=[ee,te],ae=(0,i._)("footer",{class:"py-2 px-4 fixed z-50 inset-x-0 bottom-0 bg-gray-50"},[(0,i._)("p",{class:"text-xs md:text-sm text-center text-gray-700"},[(0,i.Uk)("Made with "),(0,i._)("i",{class:"fa fa-heart text-red-600"}),(0,i.Uk)(" by "),(0,i._)("a",{href:"https://devgranty.netlify.app",target:"_blank",class:"text-red-400"},"Grant Adiele")])],-1);function ie(e,t,s,r,l,n){return(0,i.wg)(),(0,i.iD)("div",u,[g,(0,i._)("div",f,[(0,i._)("div",x,[(0,i._)("div",m,[(0,i._)("button",{type:"button",onClick:t[0]||(t[0]=(...e)=>n.toggleHelpModal&&n.toggleHelpModal(...e)),class:"py-1 px-2 flex items-center gap-x-1 border border-blue-400 text-blue-600 text-xs rounded-full"},b),l.helpModalVisible?((0,i.wg)(),(0,i.iD)("div",{key:0,onClick:t[1]||(t[1]=(...e)=>n.closeHelpModal&&n.closeHelpModal(...e)),class:"fixed inset-0 w-full h-full z-20"})):(0,i.kq)("",!0),l.helpModalVisible?((0,i.wg)(),(0,i.iD)("div",v,_)):(0,i.kq)("",!0)])]),(0,i._)("div",k,[M,(0,i._)("div",P,[(0,i._)("div",S,[V,(0,i._)("div",U,[l.appStatus?((0,i.wg)(),(0,i.iD)("div",E,O)):((0,i.wg)(),(0,i.iD)("div",C,D)),(0,i.wy)((0,i._)("div",null,[(0,i._)("form",F,[H,(0,i._)("input",{id:"imageInput",type:"file",class:"hidden",onChange:t[2]||(t[2]=(...e)=>n.getImage&&n.getImage(...e))},null,32)])],512),[[a.F8,l.fileUploadVisible]]),(0,i.wy)((0,i._)("div",R,[(0,i._)("div",L,[(0,i._)("div",null,[T,(0,i._)("img",{src:l.imageURL,ref:"imageElement"},null,8,z)]),null===l.predictionStatus?((0,i.wg)(),(0,i.iD)("button",{key:0,onClick:t[3]||(t[3]=(...e)=>n.startPrediction&&n.startPrediction(...e)),class:"py-3 px-6 inline-flex items-center gap-x-2 text-white bg-gray-900 text-xs font-medium uppercase rounded-lg shadow-lg cursor-pointer disabled:bg-gray-400 disabled:text-white disabled:shadow-none disabled:cursor-default"},N)):"started"===l.predictionStatus?((0,i.wg)(),(0,i.iD)("div",$,Z)):"ended"===l.predictionStatus?((0,i.wg)(),(0,i.iD)("div",B,J)):(0,i.kq)("",!0)])],512),[[a.F8,l.previewVisible]])])]),(0,i.wy)((0,i._)("div",K,[Q,(0,i._)("div",X,[(0,i._)("ul",{innerHTML:l.resultStr,class:"space-y-4"},null,8,Y),(0,i._)("button",{onClick:t[4]||(t[4]=(...e)=>n.resetPrediction&&n.resetPrediction(...e)),class:"py-3 px-6 inline-flex items-center gap-x-2 text-white bg-gray-900 text-xs font-medium uppercase rounded-lg shadow-lg cursor-pointer"},se)])],512),[[a.F8,l.resultStr]])])])]),ae])}var re={data(){return{model:void 0,maxPredictions:void 0,appStatus:!1,fileUploadVisible:!1,imageURL:"",previewVisible:!1,predictionStatus:null,resultStr:"",helpModalVisible:!1}},methods:{sleep(e){return new Promise((function(t){setTimeout(t,e)}))},async loadModel(){try{const e="/data/model.json",t="/data/metadata.json";this.model=Object.freeze(await tmImage.load(e,t)),this.maxPredictions=this.model.getTotalClasses(),this.appStatus=!0,this.fileUploadVisible=!0}catch(e){throw new Error(e)}},getImage(e){const t=e.target.files[0],s=new FileReader;if(!t)throw new Error("Image not found");s.onload=()=>{this.imageURL=s.result,this.previewVisible=!0,this.fileUploadVisible=!1},s.readAsDataURL(t)},async makePrediction(e){try{const s=await this.model.predict(e);for(var t=0;t<this.maxPredictions;t++){const e=s[t].className,a=(100*s[t].probability).toFixed(2);this.resultStr+=`<li>\n                <span class="text-xs text-blue-700 font-medium uppercase whitespace-nowrap">${e}: </span>\n                <div class="py-0.5 w-full bg-gray-100 rounded-md">\n                    <div class="h-full w-[66%] bg-slate-600 text-center rounded-md" style="width:${a}%">\n                    <span class="text-xs text-gray-900 whitespace-nowrap">${a}%</span>\n                    </div>\n                </div>\n                </li>`}}catch(s){console.error("Prediction error:",s)}},startPrediction(){console.log("Started prediction"),this.predictionStatus="started",this.sleep(1e3).then((async()=>{await this.makePrediction(this.$refs.imageElement),console.log("ended prediction"),this.predictionStatus="ended"}))},resetPrediction(){this.imageURL="",this.previewVisible=!1,this.fileUploadVisible=!0,this.resultStr="",this.predictionStatus=null},toggleHelpModal(){this.helpModalVisible=!this.helpModalVisible},closeHelpModal(){this.helpModalVisible=!1}},mounted(){this.loadModel().then((()=>{console.log("Model is ready!")})).catch((e=>{console.log("Error loading the model:",e)}))}};const le=(0,l.Z)(re,[["render",ie]]);var ne=le;const oe=[{path:"/",name:"home",component:ne},{}],de=(0,p.p7)({history:(0,p.r5)(),routes:oe});var ce=de;(0,a.ri)(d).use(ce).mount("#app")}},t={};function s(a){var i=t[a];if(void 0!==i)return i.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,s),r.exports}s.m=e,function(){var e=[];s.O=function(t,a,i,r){if(!a){var l=1/0;for(c=0;c<e.length;c++){a=e[c][0],i=e[c][1],r=e[c][2];for(var n=!0,o=0;o<a.length;o++)(!1&r||l>=r)&&Object.keys(s.O).every((function(e){return s.O[e](a[o])}))?a.splice(o--,1):(n=!1,r<l&&(l=r));if(n){e.splice(c--,1);var d=i();void 0!==d&&(t=d)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[a,i,r]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var i,r,l=a[0],n=a[1],o=a[2],d=0;if(l.some((function(t){return 0!==e[t]}))){for(i in n)s.o(n,i)&&(s.m[i]=n[i]);if(o)var c=o(s)}for(t&&t(a);d<l.length;d++)r=l[d],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(c)},a=self["webpackChunkeye_disease_prediction_system_v1_0_0"]=self["webpackChunkeye_disease_prediction_system_v1_0_0"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(4460)}));a=s.O(a)})();
//# sourceMappingURL=app.7e2c1cfc.js.map